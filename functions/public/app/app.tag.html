<app>
  <div>
    <nav class="w:100pc ps:fx bg:white t:0 bs:1">
      <a class="p:10px" href={route.link} onclick={ false && _setRoute(route) } each={route in routes}>{ route.name }</a>
      <button onclick={ _triggerUpdate }>update</button>
    </nav>
    
    <main class="dp:flx ai:c h:100vh">
      <div data-is={'page-' + page}></div>
    </main>
    
  </div>
  
  <script>
    this.mixin('riothing');
    
    this.default = {
      page: 'main',
      splash: false,
      routes: [
        { name: 'main', main: true, link: '/' },
        { name: 'todo', link: '/todo' }
      ],
    };
    
    Object.assign(this, this.default, this.opts);
    
    this.track('ROUTE_STATE', this.update);
    
    this.on('update', (data) => console.log('APP UPDATE', data));
    
    
  </script>
</app>